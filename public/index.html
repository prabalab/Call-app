<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Call App</title>
    <style>
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .video-container { display: flex; gap: 20px; margin-top: 20px; }
        video { background: #000; border-radius: 8px; width: 300px; height: 225px; }
        .controls { margin: 20px 0; display: flex; gap: 10px; flex-wrap: wrap; }
        input, button { padding: 8px 12px; font-size: 16px; border-radius: 4px; }
        input { flex: 1; min-width: 200px; }
        button { background: #007bff; color: white; border: none; cursor: pointer; }
        button:disabled { background: #6c757d; cursor: not-allowed; }
        .status { color: green; font-weight: bold; margin: 10px 0; }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Dependencies -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>

    <script>
        const { useState, useEffect, useRef } = React;

        const App = () => {
            // ... [Keep all the previous state and ref declarations] ...

            return React.createElement("div", { className: "container" },
                React.createElement("h1", null, "Video Call App"),
                
                React.createElement("div", { className: "status" },
                    `Status: ${status} | Your ID: ${myId || "Connecting..."}`
                ),
                
                React.createElement("div", { className: "controls" },
                    React.createElement("input", {
                        type: "text",
                        placeholder: "Enter Room ID",
                        value: roomId,
                        onChange: (e) => setRoomId(e.target.value),
                        disabled: callActive
                    }),
                    
                    React.createElement("button", {
                        onClick: joinRoom,
                        disabled: !roomId || callActive
                    }, "Join Room"),
                    
                    React.createElement("input", {
                        type: "text",
                        placeholder: "Peer ID",
                        value: peerId,
                        onChange: (e) => setPeerId(e.target.value),
                        disabled: !roomId || callActive
                    }),
                    
                    React.createElement("button", {
                        onClick: startCall,
                        disabled: !peerId || callActive
                    }, "Start Call"),
                    
                    React.createElement("button", {
                        onClick: endCall,
                        disabled: !callActive,
                        style: { background: "#dc3545" }
                    }, "End Call")
                ),
                
                React.createElement("div", { className: "video-container" },
                    React.createElement("video", {
                        ref: localVideoRef,
                        autoPlay: true,
                        muted: true
                    }),
                    React.createElement("video", {
                        ref: remoteVideoRef,
                        autoPlay: true
                    })
                )
            );
        };

        ReactDOM.createRoot(document.getElementById("root"))
            .render(React.createElement(App));
    </script>
</body>
</html>
